<!DOCTYPE html> 
<html> 
<head> 
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>宅猫喜欢吃甜食</title>
    <link rel="stylesheet" href="static/css/reset.css">
	<link rel="stylesheet" href="static/css/common.css">
	<link rel="stylesheet" href="static/css/start.css">
</head>
<body>
    <div class="main">
    	<div class="play">
    		<audio id="login-audio" src="static/music/one.mp3" autoplay></audio>
    	</div>
		<div class="content">
			<img class="game-name" src="static/images/game-name.png" alt="宅猫喜欢吃甜食">
			<img class="login-cat" src="static/images/login-cat.png" alt="猫">
			<img class="start" src="static/images/start.png" alt="开始">
			<div class="tip" style="display:none;">
				<p class="login-name">闷骚的小猫咪</p>
			</div>
		</div>
	</div>
	<script src="http://s0.qhimg.com/lib/jquery/1102.js"></script>
	<script>
	$(function() {

		var $gameName = $('.game-name'),
			$start = $('.start'),
			$tip = $('.tip'),
			$play = $('.play');

		var loginAudio = document.getElementById('login-audio');

		$start.on("webkitTransitionEnd", function() {
			$tip.fadeIn();
			setTimeout(function() {
				// window.location.href = 'index.html';
			}, 3000);
		});

		$('.start').click(function(e) {
			$start.addClass('active');
			return false;
		});

		var interval = null;
		var rotate = 0;
		startPlay();
		function startPlay() {
			if(loginAudio.paused === true) {
				loginAudio.play();
			}
			interval = setInterval(function() {
				$play.css('-webkit-transform', 'rotate('+(rotate+=7)+'deg)');
			}, 100);
		}
		function endPlay() {
			clearInterval(interval);
			loginAudio.pause();
		}

		$play.click(function() {
			if(loginAudio.paused === false) {
				endPlay();
			} else {
				startPlay();
			}
		});
	});
	</script>
</body>
</html>